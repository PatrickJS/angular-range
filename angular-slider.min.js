(function(){var n,e,t,r,a,o,l,s,i,u,c,p,f,d,g,v,h,m;n="uiSlider",t="slider",e="range",r=function(n){return angular.element(n)},f=function(n){return""+n+"px"},s=function(n){return n.css({opacity:0})},v=function(n){return n.css({opacity:1})},c=function(n,e){return n.css({left:e})},l=function(n){return n[0].offsetWidth/2},p=function(n){return n[0].offsetLeft},m=function(n){return n[0].offsetWidth},o=function(n,e){return p(e)-p(n)-m(n)},a=function(n,e){return n.attr("ng-bind-html",e)},g=function(n,e,t,r){var a,o,l,s;return null==r&&(r=0),null==t&&(t=1/Math.pow(10,e)),o=(n-r)%t,s=o>t/2?n+t-o:n-o,a=Math.pow(10,e),l=s*a/a,l.toFixed(e)},i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend"}},h=function(){return{restrict:"EA",scope:{floor:"@",ceiling:"@",ngModelRanges:"=?"},template:'<div ng-repeat="range in ngModelRanges"><range floor="floor" class="slider" ceiling="ceiling" ng-model-low="range.low" ng-model-high="range.high"/></div>'}},d=function(n){return{restrict:"EA",scope:{floor:"@",ceiling:"@",step:"@",precision:"@",ngModel:"=?",ngModelLow:"=?",ngModelHigh:"=?",translate:"&"},template:'<span class="bar"></span><span class="bar selection"></span><span class="pointer"></span><span class="pointer"></span><span class="bubble selection"></span><span ng-bind-html="translate({value: floor})" class="bubble limit"></span><span ng-bind-html="translate({value: ceiling})" class="bubble limit"></span><span class="bubble"></span><span class="bubble"></span><span class="bubble slider-range-info"></span>',compile:function(e,t){var u,d,h,b,M,w,F,C,L,x,R,$,y,E,H,I,A,W,X;if(t.translate&&t.$set("translate",""+t.translate+"(value)"),x=null==t.ngModel&&null!=t.ngModelLow&&null!=t.ngModelHigh,W=function(){var n,t,a,o;for(a=e.children(),o=[],n=0,t=a.length;t>n;n++)h=a[n],o.push(r(h));return o}(),M=W[0],y=W[1],L=W[2],C=W[3],E=W[4],b=W[5],u=W[6],F=W[7],w=W[8],d=W[9],$=x?"ngModelLow":"ngModel",R="ngModelHigh",a(E,"'Range: ' + translate({value: diff})"),a(F,"translate({value: "+$+"})"),a(w,"translate({value: "+R+"})"),a(d,"translate({value: "+$+"}) + ' - ' + translate({value: "+R+"})"),!x)for(X=[y,C,E,w,d],I=0,A=X.length;A>I;I++)e=X[I],e.remove();return H=[$,"floor","ceiling"],x&&H.push(R),{post:function(e,t,a){var h,I,A,W,X,z,B,D,P,S,j,k,q,G,J;for(I=!1,D=r(document),a.translate||(e.translate=function(n){return n.value}),S=h=z=W=B=X=k=P=void 0,A=function(){var n,t,r;for(null==e.precision&&(e.precision=0),null==e.step&&(e.step=1),t=0,r=H.length;r>t;t++)n=H[t],e[n]=g(parseFloat(e[n]),parseInt(e.precision),parseFloat(e.step),parseFloat(e.floor));return e.diff=g(e[R]-e[$],parseInt(e.precision),parseFloat(e.step),parseFloat(e.floor)),S=l(L),h=m(M),z=0,W=h-m(L),B=parseFloat(a.floor),X=parseFloat(a.ceiling),k=X-B,P=W-z},j=function(){var n,r,a,H,X,j,q,G;return A(),H=function(n){return 100*((n-z)/P)},j=function(n){return 100*((n-B)/k)},X=function(n){return f(n*P/100)},a=function(n){return c(n,f(Math.min(Math.max(0,p(n)),h-m(n))))},console.log(h,M),G=function(){var n,t;return c(u,f(h-m(u))),t=j(e[$]),c(L,X(t)),c(F,f(p(L)-l(F)+S)),x?(n=j(e[R]),c(C,X(n)),c(w,f(p(C)-l(w)+S)),c(y,f(p(L)+S)),y.css({width:X(n-t)}),c(E,f(p(y)+l(y)-l(E))),c(d,f(p(y)+l(y)-l(d)))):void 0},n=function(){var n;return a(F),n=w,x&&(a(w),a(E),o(F,w)<10?(s(F),s(w),a(d),v(d),n=d):(v(F),v(w),s(d),n=w)),o(b,F)<5?s(b):x?o(b,n)<5?s(b):v(b):v(b),o(F,u)<5?s(u):x?o(n,u)<5?s(u):v(u):v(u)},r=function(n,r,a){var o,l,s;return o=function(){return n.removeClass("active"),D.unbind(a.move),D.unbind(a.end)},l=function(n){var a,o,l,s,i,u,c;return a=n.clientX||(null!=(i=null!=(u=n.touches)?null!=(c=u[0])?c.clientX:void 0:void 0)?i:0),o=a-t[0].getBoundingClientRect().left-S,o=Math.max(Math.min(o,W),z),l=H(o),s=B+k*l/100,x&&(r===$?s>=e[R]&&(r=R,L.removeClass("active"),C.addClass("active")):s<e[$]&&(r=$,C.removeClass("active"),L.addClass("active"))),s=g(s,parseInt(e.precision),parseFloat(e.step),parseFloat(e.floor)),e[r]=s,e.$apply()},s=function(e){return n.addClass("active"),A(),e.stopPropagation(),e.preventDefault(),D.bind(a.move,l),D.bind(a.end,o)},n.bind(a.start,s)},q=function(){var n,e,t,a,o,l;for(I=!0,n=function(n){return r(L,$,i[n]),r(C,R,i[n])},o=["touch","mouse"],l=[],t=0,a=o.length;a>t;t++)e=o[t],l.push(n(e));return l},G(),n(),I?void 0:q()},n(j),G=0,J=H.length;J>G;G++)q=H[G],e.$watch(q,j);return window.addEventListener("resize",j)}}}}},u=function(r,a){return a.module(n,[]).directive(e,["$timeout",d]).directive(t,[h])},u(window,window.angular)}).call(this);