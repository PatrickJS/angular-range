(function(){var n,e,t,r,a,o,l,i,s,u,c,p,f,d,g,v,h,m;n="uiSlider",t="slider",e="range",r=function(n){return angular.element(n)},f=function(n){return""+n+"px"},i=function(n){return n.css({opacity:0})},v=function(n){return n.css({opacity:1})},c=function(n,e){return n.css({left:e})},l=function(n){return n[0].offsetWidth/2},p=function(n){return n[0].offsetLeft},m=function(n){return n[0].offsetWidth},o=function(n,e){return p(e)-p(n)-m(n)},a=function(n,e){return n.attr("ng-bind-html",e)},g=function(n,e,t,r){var a,o,l,i;return null==r&&(r=0),null==t&&(t=1/Math.pow(10,e)),o=(n-r)%t,i=o>t/2?n+t-o:n-o,a=Math.pow(10,e),l=i*a/a,l.toFixed(e)},s={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend"}},h=function(){return{restrict:"EA",scope:{floor:"@",ceiling:"@",ngModelRanges:"=?"},template:'<div ng-repeat="range in ngModelRanges"><range floor="floor" class="slider" ceiling="ceiling" ng-model-low="range.low" ng-model-high="range.high"/></div>'}},d=function(n){return{restrict:"EA",scope:{floor:"@",ceiling:"@",step:"@",precision:"@",rangeInfoTitle:"@",ngModel:"=?",ngModelLow:"=?",ngModelHigh:"=?",translate:"&"},template:'<span class="bar"></span><span class="bar selection"></span><span class="pointer"></span><span class="pointer"></span><span class="bubble selection"></span><span ng-bind-html="translate({value: floor})" class="bubble limit"></span><span ng-bind-html="translate({value: ceiling})" class="bubble limit"></span><span class="bubble"></span><span class="bubble"></span><span class="bubble slider-range-info"></span>',compile:function(e,t){var u,d,h,b,M,w,F,I,L,x,R,$,y,C,E,H,T,A,W,X;if(R=t.rangeInfoTitle?t.rangeInfoTitle:"Range",t.translate&&t.$set("translate",""+t.translate+"(value)"),x=null==t.ngModel&&null!=t.ngModelLow&&null!=t.ngModelHigh,W=function(){var n,t,a,o;for(a=e.children(),o=[],n=0,t=a.length;t>n;n++)h=a[n],o.push(r(h));return o}(),M=W[0],C=W[1],L=W[2],I=W[3],E=W[4],b=W[5],u=W[6],F=W[7],w=W[8],d=W[9],y=x?"ngModelLow":"ngModel",$="ngModelHigh",a(E,"'"+R+": ' + translate({value: diff})"),a(F,"translate({value: "+y+"})"),a(w,"translate({value: "+$+"})"),a(d,"translate({value: "+y+"}) + ' - ' + translate({value: "+$+"})"),!x)for(X=[C,I,E,w,d],T=0,A=X.length;A>T;T++)e=X[T],e.remove();return H=[y,"floor","ceiling"],x&&H.push($),{post:function(e,t,a){var h,R,T,A,W,X,z,B,D,P,S,j,k,q,G;for(R=!1,B=r(document),a.translate||(e.translate=function(n){return n.value}),P=h=X=A=z=W=j=D=void 0,T=function(){var n,t,r,o,i;for(null==(o=e.precision)&&(e.precision=0),null==(i=e.step)&&(e.step=1),t=0,r=H.length;r>t;t++)n=H[t],e[n]=g(parseFloat(e[n]),parseInt(e.precision),parseFloat(e.step),parseFloat(e.floor));return e.diff=g(e[$]-e[y],parseInt(e.precision),parseFloat(e.step),parseFloat(e.floor)),P=l(L),h=m(M),X=0,A=h-m(L),z=parseFloat(a.floor),W=parseFloat(a.ceiling),j=W-z,D=A-X},S=function(){var n,r,a,M,H,W,S,k;return T(),M=function(n){return 100*((n-X)/D)},W=function(n){return 100*((n-z)/j)},H=function(n){return f(n*D/100)},a=function(n){return c(n,f(Math.min(Math.max(0,p(n)),h-m(n))))},k=function(){var n,t;return c(u,f(h-m(u))),t=W(e[y]),c(L,H(t)),c(F,f(p(L)-l(F)+P)),x?(n=W(e[$]),c(I,H(n)),c(w,f(p(I)-l(w)+P)),c(C,f(p(L)+P)),C.css({width:H(n-t)}),c(E,f(p(C)+l(C)-l(E))),c(d,f(p(C)+l(C)-l(d)))):void 0},n=function(){var n;return a(F),n=w,x&&(a(w),a(E),o(F,w)<10?(i(F),i(w),a(d),v(d),n=d):(v(F),v(w),i(d),n=w)),o(b,F)<5?i(b):x?o(b,n)<5?i(b):v(b):v(b),o(F,u)<5?i(u):x?o(n,u)<5?i(u):v(u):v(u)},r=function(n,r,a){var o,l,i;return o=function(){return n.removeClass("active"),B.unbind(a.move),B.unbind(a.end)},l=function(n){var a,o,l,i,s,u,c,p,f,d;return o=n.clientX||(null!=(p=null!=(f=n.touches)?null!=(d=f[0])?d.clientX:void 0:void 0)?p:0),s=o-t[0].getBoundingClientRect().left-P,s=Math.max(Math.min(s,A),X),u=M(s),c=z+j*u/100,x&&(a=.08*j,l=parseInt(e[$])-a,i=parseInt(e[y])+a,r===y?c>l&&(c=l):i>c&&(c=i)),c=g(c,parseInt(e.precision),parseFloat(e.step),parseFloat(e.floor)),e[r]=c,e.$apply()},i=function(e){return n.addClass("active"),T(),e.stopPropagation(),e.preventDefault(),B.bind(a.move,l),B.bind(a.end,o)},n.bind(a.start,i)},S=function(){var n,e,t,a,o,l;for(R=!0,n=function(n){return r(L,y,s[n]),r(I,$,s[n])},o=["touch","mouse"],l=[],t=0,a=o.length;a>t;t++)e=o[t],l.push(n(e));return l},k(),n(),R?void 0:S()},n(S),q=0,G=H.length;G>q;q++)k=H[q],e.$watch(k,S);return window.addEventListener("resize",S)}}}}},u=function(r,a){return a.module(n,[]).directive(e,["$timeout",d]).directive(t,[h])},u(window,window.angular)}).call(this);